
- **Inventory GUI refactor:** Removed redundant `BotInventoryScreen.java`, introduced the canonical `BotInventoryScreen` in `GraphicalUserInterface`, and updated `AIPlayerClient` to register it as the bot inventory UI.
- **Config toggles:** `/configMan` now includes a “Bot Controls” tab where you can persistently toggle auto-spawn mode (training/play), teleportDuringSkills, inventory-full pauses, and per-bot/per-world LLM enablement. These preferences sync to the server, apply automatically when bots spawn, and auto-run `/bot spawn <alias> <mode>` on world load so you no longer need to re-enter the console commands each session.
- **Bot ownership & spawn fixes:** Every bot now tracks an owner (defaulting to whoever first spawned it). Admins can reassign with `/bot config owner <alias> <player>` or by editing `settings.json5`, and the control UI shows the current owner per row. Auto-spawn resumes at the bot’s last saved position/dimension instead of world spawn, preventing the “deep underground” respawns.
- **Bot control UX polish:** Bot Controls rows now live inside a scrollable panel that displays both the alias and owner, tooltips explain every toggle (including why “Pause Inv” exists), and the main config page wraps informational text so it never overlaps the footer buttons.
- **Build stability:** Fixed duplicate-class and rendering-related compilation errors that were blocking builds. The bot inventory currently uses a solid background as a temporary workaround for the previous texture issue.
- **Docs:** Updated `file_index.md` to reflect the current project structure and to include the new `BotInventoryScreen` location.
- **Mining safety:** Bots now detect when they spawn or tunnel into solid blocks, automatically dig themselves out with the best tool available, and broadcast "I'm suffocating!" if they only have bare hands so players can teleport them to safety. The experimental stair-step planner has been disabled for now so teleport-off mining proceeds with the proven approach while we revisit depth-targeting later.
- **Depth mining:** `/bot skill mining depth <y>` now drives the bot to the requested Y-level by carving offset stair steps (never straight down), and the new optional `stairs` flag lets you opt into the experimental spiral planner per job. Depth runs also halt with a “Hit water” warning if the bot digs into a flooded shaft so you can come block it off.
- **Straight staircase mode:** Re-enable the `stairs` flag as a straight stripmine-style descent—each step carves a 1×1 corridor that drops one block while clearing four blocks of headroom so you can install stairs later without re-digging.
- **Spiral gating:** The `spiral` argument now returns a friendly “disabled” warning until the spiral variant matches the new staircase spec.
- **Staircase polish:** Depth runs that opt into `stairs` now carve every tread with four blocks of headroom, and the depth-only `spiral` modifier (currently gated while we refactor it) enforces the same ceiling, clamps the radius to ~5 blocks, and refuses to run alongside `square` so the planner stays predictable.
- **Spawn/claustrophobia safety:** Bots now call the dig-out routine whenever the collision box reports suffocation or the bot just took head damage, so even teleport-enabled spawns won’t sit inside stone. The chat alert remains so you can teleport if they only have fists.
- **Depth water handling:** Depth runs only pause once the bot actually touches water (feet/head submerged). This avoids premature aborts while still warning you to block the flood.
- **Next up:** teach bots to place blocks to plug detected water, re-enable the spiral stair planner by default once it survives more testing, and explore automated lantern placement so deep shafts aren’t pitch black.
- **Hazard controls:** Mining now pauses whenever water, lava, or a full inventory threaten the bot; each pause explains the cause, flags the job for manual resumption, and tells you to run `/bot resume <alias>`. A new `/bot config inventoryFullPause` toggle governs the latter, and `/bot resume` (plus the matching SkillResumeService support) lets you restart the last skill when it is safe again.
- **Stripmine skill:** `/bot skill stripmine <length>` cuts a 1×3 tunnel straight ahead, respecting vanilla reach and pausing when hazards (lava, water, drops, chests, mineshafts, or rare ores) are detected. Hazards broadcast a chat warning and require `/bot resume` once cleared.
- **Spiral depth mode:** The optional `spiral` modifier now keeps stair shafts tight, enforces a 4-block ceiling so decorative stairs can be added later, and inherits all hazard checks from the rest of the mining toolkit.
- **Hazard detector:** Chest, ore, structure, and precipice detection is shared across every block-breaking skill so they all stop safely with a warning instead of tunnelling blindly into danger.
- **Resume fixes:** `/bot resume` now replays the saved skill using the calling player’s command source, so the dispatcher accepts the command and the job actually restarts. Once you intentionally resume past a hazard, that exact block won’t immediately halt the bot again.
- **Hazard + stop tweaks:** Stair/step blocks that the bot is about to stand in are now included in hazard scans, so water, lava, chests, or drops sitting directly ahead still pause the job while off-path finds are just warnings. Stripmine’s mining loop now polls for `/bot stop` requests while breaking blocks, cancelling the dig immediately instead of finishing the entire tunnel section.
- **Rare block awareness:** Iron ore (all variants) and amethyst geode blocks/buds now raise the same “I found something!” pause as other valuables, so the bot won’t chew through them until you explicitly `/bot resume`.
- **Rare ore comms:** Those valuable-ore pauses now only show the bot’s “I found…” chat—your command output simply says the skill paused, reducing duplicate chatter.
- **Rare ore additions:** Gold ore is now treated as a stop-worthy rare (overworld, deepslate, and nether flavors), and the detector automatically includes every deepslate variant whenever we add new valuables so deep tunnels don’t miss palette swaps.
- **Startup smoothness:** The BERT NLP model now loads on a background thread when the server starts, so world creation/login is no longer blocked for several seconds while DJL initializes.
- **QoL:** Added `/bot look_player [alias|all]` so you can snap any bot’s view to your player before issuing directional jobs like stripmine or spiral stairs.
- **Consistency:** When you resume a stripmine run the bot keeps the original tunnel direction instead of re-orienting, and `/bot look_player stop …` releases the attention so you can let bots look forward again.
- **LLM groundwork:** Added `/bot config llm world …` and `/bot config llm bot …` toggles, a per-world persona/memory store that gives each bot Elder Scrolls-style quirks, and a chat parser that lets you address “Jake …” or “all bots …” directly. When the toggle is on, the bots route conversational requests through the LLM before falling back to the traditional skill commands.
- **LLM command bridge:** Natural-language chat like “collect 5 cobblestone” or “grab some dirt” now maps to the real skill runner under the hood—stone/ore keywords route to `mining`, soft-block requests hit `collect_dirt`, and the LLM automatically fills in the correct block filters so the bot actually executes the job instead of replying with an unknown function error.
- **LLM confirmations & job tracking:** Whenever the LLM interprets a high-impact command (mining, collect_dirt, stripmine, drop_sweep) it now asks for confirmation, announces the job (“On it — mining 5 cobblestone…”), and reports completion/abort straight to chat. Jobs are tracked per bot so `/bot stop` or follow-up questions know what the bot is doing, and requests automatically pause when inventories fill to prevent infinite drop sweeps.
- **LLM action queue & status:** Additional natural-language commands now queue behind the current job instead of being dropped, and once the job finishes the next queued request runs automatically with its own confirmation/status prompts. Asking a bot for “status” yields a personality-driven update that includes the active job, queued tasks, and the last completed assignment, all powered by the same per-world persona/memory profiles.
